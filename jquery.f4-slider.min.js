/*! FAKTOR VIER Slider v1.0.11 | (c) 2021 FAKTOR VIER GmbH | http://faktorvier.ch */
!function(t){t.f4slider={global:{attrKeysEnabled:"data-slider-keys-enabled",allKeys:[],videoPluginAvailable:!1},config:{attrInit:"data-slider-init",attrSlider:"data-slider",attrSliderHidden:"data-slider-hidden",attrSlide:"data-slide",attrSlideCurrent:"data-slide-current",attrSlideElement:"data-slide-element",attrSlideIn:"data-slide-in",attrSlideOut:"data-slide-out",attrSlidePrev:"data-slide-prev",attrSlideNext:"data-slide-next",attrTriggerRef:"data-slider-ref",attrTrigger:"data-slide-trigger",attrTriggerCurrent:"data-slide-trigger-current",valueTriggerPrev:"prev",valueTriggerNext:"next",enableKeys:!0,keyNext:39,keyPrev:37,enableSwipe:!0,onSwipeLeft:function(t){},onSwipeRight:function(t){},sliderInitDelay:1e3,autoPlay:!0,autoPlayTimeout:7e3,attrPauseAutoPlay:"data-slide-pause-autoplay",videoAutoPlay:!0,videoAutoPlayOnSlideStart:!0,videoPluginDefaultBehavior:!1,attrVideo:"data-slide-video",attrVideoAutoPlay:"data-slide-video-autoplay",onSlideInStart:function(t){},onSlideInEnd:function(t){},onSlideOutStart:function(t){},onSlideOutEnd:function(t){}}},t.f4slider.bindKeys=function(){t.f4slider.unbindKeys(),t(window).bind("keyup.f4slider",(function(e){if(e.preventDefault(),-1!=t.inArray(e.keyCode,t.f4slider.global.allKeys)){var r=t("["+t.f4slider.global.attrKeysEnabled+"]").filter(":visible").filter((function(){var e=t(this);if(e.is("["+e.data("f4slider").config.attrSliderHidden+"]"))return!1;var r=t(window).scrollTop(),i=r+t(window).height(),a=e.offset().top,n=a+e.height();return a<=i&&n>=r||n>=r&&a<=i})).first();if(r.length){var i=r.data("f4slider").config;e.keyCode==i.keyNext&&(e.preventDefault(),r.f4slider("next")),e.keyCode==i.keyPrev&&(e.preventDefault(),r.f4slider("previous"))}}}))},t.f4slider.unbindKeys=function(){t(window).unbind("keyup.f4slider")},t.fn.f4slider=function(e){t.f4slider.global.videoPluginAvailable=void 0!==t.video;var r=null,i=null;return"string"==typeof e?i=e:(r=t.extend(t.extend({},t.f4slider.config),e)).enableKeys&&t.f4slider.bindKeys(),this.each((function(){var e=null;void 0!==t(this).data("f4slider")&&(r=t(this).data("f4slider").config,e=t(this).data("f4slider-timeout"));var a=t(this),n=a.attr(r.attrSlider),l=a.find("["+r.attrSlide+"]"),d=l.find("["+r.attrVideo+"]"),o=t.f4slider.global.videoPluginAvailable&&r.videoPluginDefaultBehavior&&d.length,s=[],u=t("["+r.attrTriggerRef+'="'+n+'"]');u.length>0?0===(s=u.find("["+r.attrTrigger+"]")).length&&(s=u):s=a.find("["+r.attrTrigger+"]");var f=l.length,v=f-1,p=null,c=0;f>0&&(p=l.filter("["+r.attrSlideCurrent+"]"),s.filter("["+r.attrTriggerCurrent+"]"),c=-1==l.index(p)?0:l.index(p));var g=!1,y=function(){o&&d.addVideoEvent("play",(function(t,e){b()})),s.on("click",(function(e){e.preventDefault(),e.stopPropagation();var i=t(this);if(void 0===i.attr(r.attrTriggerCurrent)){var a=i.attr(r.attrTrigger),n=parseInt(a);isNaN(n)?"prev"==a?T():A():P(n)}})),r.autoPlay&&a.find("["+r.attrPauseAutoPlay+"]").addBack("["+r.attrPauseAutoPlay+"]").bind("mouseenter",(function(e){e.stopPropagation(),g=!0,b(),t(this).one("mouseleave",(function(){g=!1,S()}))})),r.enableSwipe&&void 0!==a.swipe&&a.swipe({swipeLeft:function(){A(),r.onSwipeLeft(t(this))},swipeRight:function(){T(),r.onSwipeRight(t(this))}})},S=function(){b(),l.length>1&&a.data("f4slider-timeout",setTimeout((function(){A()}),r.autoPlayTimeout))},b=function(){clearTimeout(a.data("f4slider-timeout"))},m=function(e){e.find("["+r.attrVideo+"]["+r.attrVideoAutoPlay+"]").each((function(){var e=t(this);if("video"==e.prop("tagName").toLowerCase()&&(e.get(0).play(),e.get(0).paused&&S()),"iframe"==e.prop("tagName").toLowerCase()&&-1!==e.attr("src").indexOf("youtu")){b();var r=e.attr("src").replace("&amp;","&").replace(/\autoplay=[0-9]{1}/,"").replace("?&","?").replace("??","?").replace(/[\?&]$/,"").replace("&","&amp;");r=r+(-1===r.indexOf("?")?"?":"&")+"autoplay=1",e.attr("src",r)}}))},h=function(e){e.find("["+r.attrVideo+"]").each((function(){var e=t(this);if("video"==e.prop("tagName").toLowerCase()&&e.get(0).pause(),"iframe"==e.prop("tagName").toLowerCase()&&-1!==e.attr("src").indexOf("youtu")){var r=e.attr("src").replace("&amp;","&").replace(/\autoplay=[0-9]{1}/,"").replace("?&","?").replace("??","?").replace(/[\?&]$/,"").replace("&","&amp;");e.attr("src",r)}}))},P=function(t){r.autoPlay&&!g&&S(),$previousSlide=p,void 0!==$previousSlide.attr(r.attrSlide)&&($previousSlide.attr(r.attrSlide)<t?a.attr(r.attrSlideNext,""):a.attr(r.attrSlidePrev,"")),r.onSlideOutStart($previousSlide),h($previousSlide);var e=!1;k($previousSlide,(function(t){if(e)return!1;$previousSlide.removeAttr(r.attrSlideOut),a.removeAttr(r.attrSlidePrev),a.removeAttr(r.attrSlideNext),r.onSlideOutEnd($previousSlide),e=!0})),p.attr(r.attrSlideOut,""),l.removeAttr(r.attrSlideCurrent),s.removeAttr(r.attrTriggerCurrent),c=t,(p=l.filter("["+r.attrSlide+'="'+c+'"]')).attr(r.attrSlideCurrent,"").attr(r.attrSlideIn,""),s.filter("["+r.attrTrigger+'="'+c+'"]').attr(r.attrTriggerCurrent,""),r.onSlideInStart(p);var i=!1;r.videoAutoPlayOnSlideStart&&m(p),k(p,(function(t){if(i)return!1;p.removeAttr(r.attrSlideIn),r.onSlideInEnd(p),r.videoAutoPlayOnSlideStart||m(p),i=!0}))},A=function(){var t=c+1;t>v&&(t=0),P(t)},T=function(){var t=c-1;t<0&&(t=v),P(t)},k=function(t,e){var r=!1;t.one("transitionend webkitTransitionEnd oTransitionEnd",(function(t){r||(r=!0,e(t))})),w("transition")||t.trigger("transitionend")},w=function(t){var e=!1,r="Webkit Moz O ms Khtml".split(" "),i=document.createElement("div");if(void 0!==i.style[t]&&(e=!0),!1===e)for(var a=0;a<r.length;a++)if(void 0!==i.style[r[a]+t]){e=!0;break}return e};if(null===i)a.data("f4slider",{config:r,sliderTimeout:e}),t.f4slider.global.allKeys.push(r.keyPrev),t.f4slider.global.allKeys.push(r.keyNext),o&&(d.video(),p.find("["+r.attrVideo+"]["+r.attrVideoAutoPlay+"]").video("play")),f>1?r.sliderInitDelay<=0?(a.attr(t.f4slider.global.attrKeysEnabled,""),a.attr(r.attrInit,""),P(c),y()):setTimeout((function(){a.attr(t.f4slider.global.attrKeysEnabled,""),a.attr(r.attrInit,""),P(c),y()}),r.sliderInitDelay):1==f&&(a.attr(r.attrInit,""),P(c));else switch(i){case"previous":T();break;case"next":A();break;case"stopVideoAutoplay":h(p);break;case"startVideoAutoplay":m(p);break;case"startAutoplay":S();break;case"stopAutoplay":b();break;case"destroy":a.removeData("f4slider"),a.removeAttr(t.f4slider.global.attrKeysEnabled),a.removeAttr(r.attrInit),l.removeAttr(r.attrSlideCurrent),s.removeAttr(r.attrTriggerCurrent),b(),l.unbind("transitionEnd webkitTransitionEnd oTransitionEnd");break}}))}}(jQuery);
